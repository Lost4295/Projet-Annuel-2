{% extends 'base.html.twig' %}

{% block title %}{{"loca"|trans}}
{% endblock %}
{% block stylesheets %}
	<style>

		.bar {
			width: 650px;
			background: white;
			box-shadow: 0 0 5px hsl(0 0% 78%);
			height: 55px;
			border-radius: 100vw;
			display: flex;
			justify-content: center;
			font-size: 0.6rem;
		}

		.bar div {
			border-radius: inherit;
			padding: 0.8rem 1.5rem;
			transition:  250ms ease;
		}

		.bar div:hover {
			background: hsl(0 0% 94%);
		}

		.location {
			width: 34%;
		}
		.check-in,
		.check-out,
		.guests {
			width: 22%;
		}

		input[type="text"],
		input[type="date"] {
			background: none;
			border: none;
			padding: 0.2rem 0 0;
			position: relative;
			top: -15px;
		}

		input[type="text"]:focus {
			outline: none;
		}

		::placeholder {
			font-size: 0.75rem;
		}

		.guests {
			position: relative;
		}
		.guests span {
			position: absolute;
			top: 50%;
			right: 10px;
			transform: translateY(-50%);
			background: #FF385C;
			color: white;
			font-size: 0.8rem;
			padding: 0.7rem;
			border-radius: 50%;
		}

		.bar > div {
			position: relative;
		}


		.bar > div::before {
			position: absolute;
			content: "";
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 1px;
			height: 55%;
			background: hsl(0 0% 90%);
		}

		.bar>div:nth-of-type(1)::before {
			background: transparent;
		}


		.bar>div:hover::before {
			background: transparent;
		}
	</style>
{% endblock %}
{% block body %}
	<div class="m-3 d-flex align-items-center justify-content-center">
		<div class="bar">
			<div class="location">
				<p>Location</p>
				<input type="text" placeholder="Where are you going?">
			</div>
			<div class="check-in">
				<p>Check in</p>
				<input type="date" id="startdate" placeholder="Add dates">
			</div>
			<div class="check-out">
				<p>Check out</p>
				<input type="date" id="enddate" placeholder="Add dates">
			</div>
			<div class="guests">
				<p>Guests</p>
				<input type="text" placeholder="Add guests">
				<span>
					<i class="bi-search"></i>
				</span>
			</div>
		</div>
	</div>
	<div class="row">
	{% for appart in apparts %}
		<a href="{{ path('appart_detail', {'id': appart.id}) }}" class="col-md-4 py-1 text-decoration-none">
			<div class="card">
			<div class="card-body">
				<img src={{asset("images/appartements/apt1_1.jpeg")}} class="card-img-top" alt="...">
				<h5>{{appart.city}} - {{appart.country}}</h5>
				<small>{{appart.description|slice(0,50)~"..."}}</small>
				<div style="display: flex; justify-content: space-between; width: 100%;">
				<p>{{appart.price}} â‚¬ / Nuit</p> 
				<p>{{appart.note}} / 5</p></div>
			</div>
			</div>
		</a>
    {% endfor %}

		<div class="col-md-4 py-1">
			<div class="card">
				<div class="card-body">
					<img src="https://placehold.co/300x200" class="card-img-top" alt="...">
					<h4>Card title</h4>
					<small>Some quick example text to build on the card title and make up the bulk of the card's content.</small>
				</div>
			</div>
		</div>

		<div class="col-md-4 py-1">
			<div class="card">
				<div class="card-body">
					<img src="https://placehold.co/300x200" class="card-img-top" alt="...">
					<h4>Card title</h4>
					<small>Some quick example text to build on the card title and make up the bulk of the card's content.</small>
				</div>
			</div>
		</div>
		<div class="col-md-4 py-1">
			<div class="card">
				<div class="card-body">
					<img src="https://placehold.co/300x200" class="card-img-top" alt="...">
					<h4>Card title</h4>
					<small>Some quick example text to build on the card title and make up the bulk of the card's content.</small>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

{% block javascripts %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
	<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/rangePlugin.js"></script>
	<script>
		$( "#startdate" ).flatpickr( {
"plugins": [new rangePlugin(
{ input: "#enddate" }
)]
} );
	</script>
{% endblock %}
